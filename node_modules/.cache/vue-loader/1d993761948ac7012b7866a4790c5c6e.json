{"remainingRequest":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project2\\project-allocation-web\\src\\views\\announcement\\upload\\index.vue?vue&type=style&index=0&id=73ec9c62&lang=scss&scoped=true&","dependencies":[{"path":"E:\\project2\\project-allocation-web\\src\\views\\announcement\\upload\\index.vue","mtime":1623142371019},{"path":"E:\\project2\\project-allocation-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYW5ub3VuY2VtZW50LXVwbG9hZC1jb250YWluZXIgew0KICAgIHBhZGRpbmc6IDMwcHg7DQogICAgLm1jZS1wYW5lbCB7DQogICAgICAgIGJvcmRlci1yYWRpdXM6IDNweDsNCiAgICB9DQogICAgLmhlYWQtcm93IHsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgIH0NCiAgICAudGl0bGUtd3JhcHBlciB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7DQogICAgICAgIC50aXRsZS1maWVsZCB7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7IA0KICAgICAgICB9DQogICAgfQ0KICAgIC5idG4td3JhcHBlciB7DQogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgdG9wOiAwOw0KICAgICAgICByaWdodDogMDsNCiAgICB9DQogICAgLnRpdGxlLWlucHV0IHsNCiAgICAgICAgd2lkdGg6IDQwMHB4Ow0KICAgIH0NCiAgICAuZXJyb3Itbm90aWZpY2F0aW9uIHsNCiAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICBjb2xvcjogcmVkOw0KICAgIH0NCiAgICAudGl0bGUtZXJyb3Itd3JhcHBlciAgew0KICAgICAgICBtYXJnaW46IDAgMCAxNXB4IDUwcHg7DQogICAgfQ0KICAgIC5jb250ZW50LWVycm9yLXdyYXBwZXIgew0KICAgICAgICBtYXJnaW4tdG9wOiAxNXB4Ow0KICAgICAgICBtYXJnaW4tbGVmdDogMTVweDsNCiAgICB9DQogICAgLmhhcy1lcnJvciB7DQogICAgICAgIDo6di1kZWVwIC5lbC1pbnB1dF9faW5uZXIgew0KICAgICAgICAgICAgYm9yZGVyLWNvbG9yOiByZWQgIWltcG9ydGFudDsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/announcement/upload","sourcesContent":["<template>\r\n    <div class=\"announcement-upload-container\">\r\n        <div class=\"head-row\">\r\n            <div class=\"title-wrapper\">\r\n                <div class=\"title-field\">Title:</div>\r\n                <el-input v-model=\"announcement.title\" \r\n                    @input=\"clearError('title')\" \r\n                    placeholder=\"Please key in project title\" \r\n                    :class=\"{ 'has-error': error.title.isShow}\" \r\n                    class=\"title-input\">\r\n                </el-input>\r\n            </div>\r\n            <div class=\"title-error-wrapper error-notification\" v-show=\"error.title.isShow\">{{error.title.message}}</div>\r\n            <div class=\"btn-wrapper\">\r\n                <el-button type=\"danger\" @click=\"goto('/announcement/list')\" class=\"cancel-add-btn\">Cancel</el-button>\r\n                <el-button type=\"primary\" @click=\"AddAnnouncement\" class=\"confirm-add-btn\">Confirm</el-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"context-editor-wrapper\">\r\n            <tinymce v-model=\"announcement.content\" :height=\"600\" @input=\"clearError('content')\"/>\r\n            <div class=\"content-error-wrapper error-notification\" v-show=\"error.content.isShow\">{{error.content.message}}</div>\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Tinymce from '@/components/Tinymce'\r\nimport announcementApi from '@/api/announcement'\r\nimport { mapGetters } from 'vuex'\r\nexport default {\r\n    data() {\r\n        return {\r\n            announcement: {\r\n                content: '',\r\n                title: '',\r\n                id: '',\r\n                authorId: ''\r\n            },\r\n            error: {\r\n                title: {\r\n                    isShow: false,\r\n                    message: 'Title cannot be empty'\r\n                },\r\n                content: {\r\n                    isShow: false,\r\n                    message: 'Content cannot be empty'\r\n                }\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters([\r\n            'currentAdmin'\r\n        ])\r\n    },\r\n    created() {\r\n        let id = this.$route.params.id\r\n        if (id) {\r\n            this.announcement.id = id\r\n            announcementApi.getAnnouncementInfo(this.announcement.id).then((response) => {\r\n                this.announcement = response.data.announcement\r\n            })\r\n        }\r\n    },\r\n    methods: {\r\n        goto(path) {\r\n            this.$router.push(path)\r\n        },\r\n        clearError(label) {\r\n            this.error[label].isShow = false\r\n        },\r\n        AddAnnouncement() {\r\n            if (this.validateBeforeAdd()) {\r\n                if (this.$route.params.id) {\r\n                    announcementApi.updateAnnouncement(this.announcement).then((response) => {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: 'Update Successfully'\r\n                        })\r\n                        this.$router.push('/announcement/list') \r\n                    })\r\n                } else {\r\n                    this.announcement.authorId = this.currentAdmin.id\r\n                    announcementApi.addAnnouncement(this.announcement).then((response) => {\r\n                        this.$message({\r\n                            type: 'success',\r\n                            message: 'Add Successfully'\r\n                        })\r\n                        this.$router.push('/announcement/list')\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        validateBeforeAdd() {\r\n            if (!this.announcement.title) {\r\n                this.error.title.isShow = true\r\n                return false\r\n            }\r\n            \r\n            if (!this.announcement.content) {\r\n                this.error.content.isShow = true\r\n                return false\r\n            }\r\n            \r\n            return true\r\n        }\r\n    },\r\n    components: {\r\n        Tinymce\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.announcement-upload-container {\r\n    padding: 30px;\r\n    .mce-panel {\r\n        border-radius: 3px;\r\n    }\r\n    .head-row {\r\n        position: relative;\r\n    }\r\n    .title-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 15px;\r\n        .title-field {\r\n            margin-right: 10px; \r\n        }\r\n    }\r\n    .btn-wrapper {\r\n        position: absolute;\r\n        display: flex;\r\n        top: 0;\r\n        right: 0;\r\n    }\r\n    .title-input {\r\n        width: 400px;\r\n    }\r\n    .error-notification {\r\n        font-size: 12px;\r\n        color: red;\r\n    }\r\n    .title-error-wrapper  {\r\n        margin: 0 0 15px 50px;\r\n    }\r\n    .content-error-wrapper {\r\n        margin-top: 15px;\r\n        margin-left: 15px;\r\n    }\r\n    .has-error {\r\n        ::v-deep .el-input__inner {\r\n            border-color: red !important;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}