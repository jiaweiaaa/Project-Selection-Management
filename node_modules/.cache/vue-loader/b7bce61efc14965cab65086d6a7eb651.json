{"remainingRequest":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project2\\project-allocation-web\\src\\views\\people\\student\\index.vue?vue&type=style&index=0&id=70fa4498&lang=scss&scoped=true&","dependencies":[{"path":"E:\\project2\\project-allocation-web\\src\\views\\people\\student\\index.vue","mtime":1623142371023},{"path":"E:\\project2\\project-allocation-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnN0dWRlbnQtY29udGFpbmVyIHsNCiAgcGFkZGluZzogMTBweDsNCiAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gNjBweCk7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIGRpc3BsYXk6IGdyaWQ7DQogIC5iYWNrZ3JvdW5kLWNvbnRhaW5lciB7DQogICAgLy8gaGVpZ2h0OiBjYWxjKDQwdmggLSAxMHB4KTsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIHBhZGRpbmc6IDEwcHggMjBweCAyMHB4Ow0KICB9DQogIC5sZWZ0LWl0ZW1zew0KICAgIC5idWxrLWRlbGV0aW9uIHsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBwYWRkaW5nOiAwcHg7DQogICAgICBsaW5lLWhlaWdodDogMjJweDsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgICBtYXJnaW4tbGVmdDogNDBweDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7DQogICAgICBoZWlnaHQ6IDMxcHg7DQogICAgICB3aWR0aDogMTM2cHg7DQogICAgfQ0KICAgIC5hZGQtbWF1bmFsbHkgew0KICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIHBhZGRpbmc6IDBweDsNCiAgICAgIGxpbmUtaGVpZ2h0OiAyMnB4Ow0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIG1hcmdpbi1yaWdodDogMTBweDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7DQogICAgICBoZWlnaHQ6IDMxcHg7DQogICAgICB3aWR0aDogMTM2cHg7DQogICAgfQ0KICAgIC5idWxrLXVwbG9hZCB7DQogICAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOw0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgcGFkZGluZzogMHB4Ow0KICAgICAgbGluZS1oZWlnaHQ6IDIycHg7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgbWFyZ2luLXRvcDogMTBweDsNCiAgICAgIGhlaWdodDogMzFweDsNCiAgICAgIHdpZHRoOiAxMzZweDsNCiAgICB9DQogIH0NCiAgICAucmlnaHQtaXRlbXN7DQogICAgICBmbG9hdDogcmlnaHQ7DQogICAgICBtYXJnaW4tdG9wOjEwcHg7DQogICAgICBtYXJnaW4tcmlnaHQ6NzBweDsNCiAgICAuc2VhcmNoIHsNCiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsNCiAgICAgIGhlaWdodDogNDFweDsNCiAgICAgIHdpZHRoOiA0MDBweDsNCiAgICB9DQogIH0NCiAgLnBhZ2luYXRpb24gew0KICAgIG1hcmdpbi1yaWdodDogMTAwcHg7DQogIH0NCiAgLnN0dS10YWJsZXsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIG1hcmdpbi10b3A6NTVweDsNCiAgICBwYWRkaW5nOjE1cHg7DQogIC5yZXNldCB7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBsaW5lLWhlaWdodDogMjJweDsNCiAgICBtYXJnaW46IDBweDsNCiAgICBtYXJnaW4tdG9wOiA1cHg7DQogICAgaGVpZ2h0OiAzMXB4Ow0KICAgIHdpZHRoOiAxMzhweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogIH0NCiAgLmRlbGV0ZSB7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIHBhZGRpbmc6IDBweDsNCiAgICBsaW5lLWhlaWdodDogMjJweDsNCiAgICBtYXJnaW46IDBweDsNCiAgICBtYXJnaW4tdG9wOiA1cHg7DQogICAgaGVpZ2h0OiAzMXB4Ow0KICAgIHdpZHRoOiA3M3B4Ow0KICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/people/student","sourcesContent":["<template>\r\n  <div class=\"student-container\">\r\n    <el-card class=\"box-card\">\r\n      <div class=\"firstrow\">\r\n        <div class=\"letf-items\" style=\"float: left; margin-left:50px; margin-top:10px\">\r\n          <el-button class=\"bulk-deletion\" icon=\"el-icon-delete\" type=\"primary\" :disabled=\"this.sels.length === 0\" @click=\"delStudent\" >Bulk Deletion</el-button>\r\n          <el-button class=\"add-maunally\" icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addManually\" >Add Manually</el-button>\r\n          <el-button @click=\"upload\" class=\"bulk-upload\" icon=\"el-icon-folder-add\" type=\"primary\" >Bulk Upload</el-button>\r\n        </div>\r\n        <div class=\"right-items\" >\r\n          <el-input class=\"search\" placeholder=\"Please Enter Keywords\" clearable v-model=\"query\" @clear=\"getStudentList\" ></el-input>\r\n          <el-button icon=\"el-icon-search\" type=\"primary\" @click=\"wordSearch(query)\"></el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"stu-table\">\r\n      <perfect-scrollbar class=\"background-container\">\r\n        <el-table  class=\"student-table\" @selection-change=\"selsChange\" :data=\"students\" style=\"width: 97% ;   font-size:15px;\" stripe size=\"mini\"  max-height=\"555\">\r\n          <el-table-column  type=\"selection\" width=\"70\" align=\"center\"></el-table-column>\r\n          <el-table-column  prop=\"unikey\" label=\"Unikey\" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column  prop=\"sid\" label=\" SID \" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"Name\" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"email\" label=\"Email\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"groupId\" label=\"Group_id\" align=\"center\" width=\"200\"></el-table-column>\r\n          <el-table-column label=\"Reset password\"  width=\"150\" :formatter=\"formatter\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button class=\"reset\" type=\"primary\" @click=\"resetPassword(scope.row.id)\">Reset password</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Delete\" width=\"130\" :formatter=\"formatter\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button class=\"delete\" type=\"danger\" size=\"mini\" align=\"center\" @click=\"deleteStudent(scope.row.id)\">Delete</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </perfect-scrollbar>\r\n      </div> \r\n      <el-pagination\r\n        style=\"padding:10px 0; text-align:right\"\r\n        class=\"pagination\"\r\n        background\r\n        :current-page=\"page\"\r\n        :page-size=\"limit\"\r\n        :total=\"total\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        @current-change=\"handleCurrentChange\"/>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport student from \"@/api/student\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sels: [],\r\n      page: 2,\r\n      limit: 8,\r\n      total: 0,\r\n      query: \"\",\r\n      students: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getStudentList();\r\n  },\r\n  methods: {\r\n    selsChange(sels) {\r\n      this.sels = sels;\r\n    },\r\n    resetPassword(id){\r\n      this.$confirm(\r\n        \"This student password will be reset, still continue (New password will be the '123456')?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n      student.resetPassword(id)\r\n      .then((response) =>{\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"Reset successfully!\",\r\n          });\r\n          this.getStudentList();\r\n      })\r\n      })\r\n    },\r\n    delStudent() {\r\n      var ids = this.sels.map((item) => item.id).join();\r\n      this.$confirm(\r\n        \"These students will be deleted fovever, still continue?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n        student\r\n          .removeStudentBatch(ids)\r\n          .then((response) => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"Delete successfully!\",\r\n            });\r\n            this.getStudentList();\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"Delete Canceled\",\r\n            });\r\n          });\r\n      });\r\n    },\r\n    wordSearch(keyword) {\r\n      student.keywordSearchStudent(keyword).then((response) => {\r\n        console.log(response)\r\n        this.students = response.data.Student;\r\n      });\r\n    },\r\n    addManually() {\r\n      this.$router.push({ name: \"add\" });\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.page = newPage;\r\n      this.getPage(this.page);\r\n    },\r\n    getPage(cpage) {\r\n      student.getStudentByPage(cpage).then((response) => {\r\n        this.students = response.data.Student.records;\r\n      });\r\n    },\r\n\r\n    getStudentList(page = 1) {\r\n      this.page = page;\r\n      student\r\n        .getStudentList(this.page)\r\n        .then((response) => {\r\n          console.log(response)\r\n          this.getPage(this.page);\r\n          this.total = response.data.students.length;\r\n          this.students = response.data.students;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    formatter(row) {\r\n      return row.address;\r\n    },\r\n    upload() {\r\n      this.$router.push({ name: \"bulkupload\" });\r\n    },\r\n\r\n    deleteStudent(id) {\r\n      this.$confirm(\r\n        \"This student will be deleted fovever, still continue?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n        student\r\n          .removeStudent(id)\r\n          .then((response) => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"Delete successfully!\",\r\n            });\r\n            this.getStudentList();\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"Delete Canceled\",\r\n            });\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.student-container {\r\n  padding: 10px;\r\n  height: calc(100vh - 60px);\r\n  box-sizing: border-box;\r\n  display: grid;\r\n  .background-container {\r\n    // height: calc(40vh - 10px);\r\n    box-sizing: border-box;\r\n    padding: 10px 20px 20px;\r\n  }\r\n  .left-items{\r\n    .bulk-deletion {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-top: 10px;\r\n      margin-left: 40px;\r\n      margin-bottom: 10px;\r\n      margin-right: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n    .add-maunally {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-top: 10px;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n    .bulk-upload {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-bottom: 10px;\r\n      margin-top: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n  }\r\n    .right-items{\r\n      float: right;\r\n      margin-top:10px;\r\n      margin-right:70px;\r\n    .search {\r\n      border-radius: 4px;\r\n      height: 41px;\r\n      width: 400px;\r\n    }\r\n  }\r\n  .pagination {\r\n    margin-right: 100px;\r\n  }\r\n  .stu-table{\r\n    box-sizing: border-box;\r\n    margin-top:55px;\r\n    padding:15px;\r\n  .reset {\r\n    border-radius: 4px;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    padding: 0px;\r\n    line-height: 22px;\r\n    margin: 0px;\r\n    margin-top: 5px;\r\n    height: 31px;\r\n    width: 138px;\r\n    margin-right: 20px;\r\n  }\r\n  .delete {\r\n    border-radius: 4px;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    padding: 0px;\r\n    line-height: 22px;\r\n    margin: 0px;\r\n    margin-top: 5px;\r\n    height: 31px;\r\n    width: 73px;\r\n  }\r\n  }\r\n}\r\n</style>\r\n"]}]}