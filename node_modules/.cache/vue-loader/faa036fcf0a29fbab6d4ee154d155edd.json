{"remainingRequest":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project2\\project-allocation-web\\src\\views\\people\\student\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\project2\\project-allocation-web\\src\\views\\people\\student\\index.vue","mtime":1623142371023},{"path":"E:\\project2\\project-allocation-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgc3R1ZGVudCBmcm9tICJAL2FwaS9zdHVkZW50IjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBzZWxzOiBbXSwNCiAgICAgIHBhZ2U6IDIsDQogICAgICBsaW1pdDogOCwNCiAgICAgIHRvdGFsOiAwLA0KICAgICAgcXVlcnk6ICIiLA0KICAgICAgc3R1ZGVudHM6IFtdLA0KICAgIH07DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRTdHVkZW50TGlzdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2Vsc0NoYW5nZShzZWxzKSB7DQogICAgICB0aGlzLnNlbHMgPSBzZWxzOw0KICAgIH0sDQogICAgcmVzZXRQYXNzd29yZChpZCl7DQogICAgICB0aGlzLiRjb25maXJtKA0KICAgICAgICAiVGhpcyBzdHVkZW50IHBhc3N3b3JkIHdpbGwgYmUgcmVzZXQsIHN0aWxsIGNvbnRpbnVlIChOZXcgcGFzc3dvcmQgd2lsbCBiZSB0aGUgJzEyMzQ1NicpPyIsDQogICAgICAgICJDb25maXJtIiwNCiAgICAgICAgew0KICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiQ29uZmlybSIsDQogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIkNhbmNlbCIsDQogICAgICAgICAgdHlwZTogIndhcm5pbmciLA0KICAgICAgICB9DQogICAgICApLnRoZW4oKCkgPT4gew0KICAgICAgc3R1ZGVudC5yZXNldFBhc3N3b3JkKGlkKQ0KICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PnsNCiAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgIG1lc3NhZ2U6ICJSZXNldCBzdWNjZXNzZnVsbHkhIiwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmdldFN0dWRlbnRMaXN0KCk7DQogICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIGRlbFN0dWRlbnQoKSB7DQogICAgICB2YXIgaWRzID0gdGhpcy5zZWxzLm1hcCgoaXRlbSkgPT4gaXRlbS5pZCkuam9pbigpOw0KICAgICAgdGhpcy4kY29uZmlybSgNCiAgICAgICAgIlRoZXNlIHN0dWRlbnRzIHdpbGwgYmUgZGVsZXRlZCBmb3ZldmVyLCBzdGlsbCBjb250aW51ZT8iLA0KICAgICAgICAiQ29uZmlybSIsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfQ0KICAgICAgKS50aGVuKCgpID0+IHsNCiAgICAgICAgc3R1ZGVudA0KICAgICAgICAgIC5yZW1vdmVTdHVkZW50QmF0Y2goaWRzKQ0KICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIkRlbGV0ZSBzdWNjZXNzZnVsbHkhIiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5nZXRTdHVkZW50TGlzdCgpOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgQ2FuY2VsZWQiLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIHdvcmRTZWFyY2goa2V5d29yZCkgew0KICAgICAgc3R1ZGVudC5rZXl3b3JkU2VhcmNoU3R1ZGVudChrZXl3b3JkKS50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSkNCiAgICAgICAgdGhpcy5zdHVkZW50cyA9IHJlc3BvbnNlLmRhdGEuU3R1ZGVudDsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYWRkTWFudWFsbHkoKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJhZGQiIH0pOw0KICAgIH0sDQogICAgaGFuZGxlQ3VycmVudENoYW5nZShuZXdQYWdlKSB7DQogICAgICB0aGlzLnBhZ2UgPSBuZXdQYWdlOw0KICAgICAgdGhpcy5nZXRQYWdlKHRoaXMucGFnZSk7DQogICAgfSwNCiAgICBnZXRQYWdlKGNwYWdlKSB7DQogICAgICBzdHVkZW50LmdldFN0dWRlbnRCeVBhZ2UoY3BhZ2UpLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgIHRoaXMuc3R1ZGVudHMgPSByZXNwb25zZS5kYXRhLlN0dWRlbnQucmVjb3JkczsNCiAgICAgIH0pOw0KICAgIH0sDQoNCiAgICBnZXRTdHVkZW50TGlzdChwYWdlID0gMSkgew0KICAgICAgdGhpcy5wYWdlID0gcGFnZTsNCiAgICAgIHN0dWRlbnQNCiAgICAgICAgLmdldFN0dWRlbnRMaXN0KHRoaXMucGFnZSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQogICAgICAgICAgdGhpcy5nZXRQYWdlKHRoaXMucGFnZSk7DQogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLmRhdGEuc3R1ZGVudHMubGVuZ3RoOw0KICAgICAgICAgIHRoaXMuc3R1ZGVudHMgPSByZXNwb25zZS5kYXRhLnN0dWRlbnRzOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGZvcm1hdHRlcihyb3cpIHsNCiAgICAgIHJldHVybiByb3cuYWRkcmVzczsNCiAgICB9LA0KICAgIHVwbG9hZCgpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImJ1bGt1cGxvYWQiIH0pOw0KICAgIH0sDQoNCiAgICBkZWxldGVTdHVkZW50KGlkKSB7DQogICAgICB0aGlzLiRjb25maXJtKA0KICAgICAgICAiVGhpcyBzdHVkZW50IHdpbGwgYmUgZGVsZXRlZCBmb3ZldmVyLCBzdGlsbCBjb250aW51ZT8iLA0KICAgICAgICAiQ29uZmlybSIsDQogICAgICAgIHsNCiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIkNvbmZpcm0iLA0KICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICJDYW5jZWwiLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfQ0KICAgICAgKS50aGVuKCgpID0+IHsNCiAgICAgICAgc3R1ZGVudA0KICAgICAgICAgIC5yZW1vdmVTdHVkZW50KGlkKQ0KICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwNCiAgICAgICAgICAgICAgbWVzc2FnZTogIkRlbGV0ZSBzdWNjZXNzZnVsbHkhIiwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgdGhpcy5nZXRTdHVkZW50TGlzdCgpOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAiaW5mbyIsDQogICAgICAgICAgICAgIG1lc3NhZ2U6ICJEZWxldGUgQ2FuY2VsZWQiLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/people/student","sourcesContent":["<template>\r\n  <div class=\"student-container\">\r\n    <el-card class=\"box-card\">\r\n      <div class=\"firstrow\">\r\n        <div class=\"letf-items\" style=\"float: left; margin-left:50px; margin-top:10px\">\r\n          <el-button class=\"bulk-deletion\" icon=\"el-icon-delete\" type=\"primary\" :disabled=\"this.sels.length === 0\" @click=\"delStudent\" >Bulk Deletion</el-button>\r\n          <el-button class=\"add-maunally\" icon=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"addManually\" >Add Manually</el-button>\r\n          <el-button @click=\"upload\" class=\"bulk-upload\" icon=\"el-icon-folder-add\" type=\"primary\" >Bulk Upload</el-button>\r\n        </div>\r\n        <div class=\"right-items\" >\r\n          <el-input class=\"search\" placeholder=\"Please Enter Keywords\" clearable v-model=\"query\" @clear=\"getStudentList\" ></el-input>\r\n          <el-button icon=\"el-icon-search\" type=\"primary\" @click=\"wordSearch(query)\"></el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"stu-table\">\r\n      <perfect-scrollbar class=\"background-container\">\r\n        <el-table  class=\"student-table\" @selection-change=\"selsChange\" :data=\"students\" style=\"width: 97% ;   font-size:15px;\" stripe size=\"mini\"  max-height=\"555\">\r\n          <el-table-column  type=\"selection\" width=\"70\" align=\"center\"></el-table-column>\r\n          <el-table-column  prop=\"unikey\" label=\"Unikey\" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column  prop=\"sid\" label=\" SID \" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"name\" label=\"Name\" width=\"150\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"email\" label=\"Email\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"groupId\" label=\"Group_id\" align=\"center\" width=\"200\"></el-table-column>\r\n          <el-table-column label=\"Reset password\"  width=\"150\" :formatter=\"formatter\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button class=\"reset\" type=\"primary\" @click=\"resetPassword(scope.row.id)\">Reset password</el-button>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Delete\" width=\"130\" :formatter=\"formatter\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button class=\"delete\" type=\"danger\" size=\"mini\" align=\"center\" @click=\"deleteStudent(scope.row.id)\">Delete</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </perfect-scrollbar>\r\n      </div> \r\n      <el-pagination\r\n        style=\"padding:10px 0; text-align:right\"\r\n        class=\"pagination\"\r\n        background\r\n        :current-page=\"page\"\r\n        :page-size=\"limit\"\r\n        :total=\"total\"\r\n        layout=\"total, prev, pager, next, jumper\"\r\n        @current-change=\"handleCurrentChange\"/>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport student from \"@/api/student\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      sels: [],\r\n      page: 2,\r\n      limit: 8,\r\n      total: 0,\r\n      query: \"\",\r\n      students: [],\r\n    };\r\n  },\r\n  created() {\r\n    this.getStudentList();\r\n  },\r\n  methods: {\r\n    selsChange(sels) {\r\n      this.sels = sels;\r\n    },\r\n    resetPassword(id){\r\n      this.$confirm(\r\n        \"This student password will be reset, still continue (New password will be the '123456')?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n      student.resetPassword(id)\r\n      .then((response) =>{\r\n        this.$message({\r\n          type: \"success\",\r\n          message: \"Reset successfully!\",\r\n          });\r\n          this.getStudentList();\r\n      })\r\n      })\r\n    },\r\n    delStudent() {\r\n      var ids = this.sels.map((item) => item.id).join();\r\n      this.$confirm(\r\n        \"These students will be deleted fovever, still continue?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n        student\r\n          .removeStudentBatch(ids)\r\n          .then((response) => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"Delete successfully!\",\r\n            });\r\n            this.getStudentList();\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"Delete Canceled\",\r\n            });\r\n          });\r\n      });\r\n    },\r\n    wordSearch(keyword) {\r\n      student.keywordSearchStudent(keyword).then((response) => {\r\n        console.log(response)\r\n        this.students = response.data.Student;\r\n      });\r\n    },\r\n    addManually() {\r\n      this.$router.push({ name: \"add\" });\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      this.page = newPage;\r\n      this.getPage(this.page);\r\n    },\r\n    getPage(cpage) {\r\n      student.getStudentByPage(cpage).then((response) => {\r\n        this.students = response.data.Student.records;\r\n      });\r\n    },\r\n\r\n    getStudentList(page = 1) {\r\n      this.page = page;\r\n      student\r\n        .getStudentList(this.page)\r\n        .then((response) => {\r\n          console.log(response)\r\n          this.getPage(this.page);\r\n          this.total = response.data.students.length;\r\n          this.students = response.data.students;\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    formatter(row) {\r\n      return row.address;\r\n    },\r\n    upload() {\r\n      this.$router.push({ name: \"bulkupload\" });\r\n    },\r\n\r\n    deleteStudent(id) {\r\n      this.$confirm(\r\n        \"This student will be deleted fovever, still continue?\",\r\n        \"Confirm\",\r\n        {\r\n          confirmButtonText: \"Confirm\",\r\n          cancelButtonText: \"Cancel\",\r\n          type: \"warning\",\r\n        }\r\n      ).then(() => {\r\n        student\r\n          .removeStudent(id)\r\n          .then((response) => {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"Delete successfully!\",\r\n            });\r\n            this.getStudentList();\r\n          })\r\n          .catch(() => {\r\n            this.$message({\r\n              type: \"info\",\r\n              message: \"Delete Canceled\",\r\n            });\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.student-container {\r\n  padding: 10px;\r\n  height: calc(100vh - 60px);\r\n  box-sizing: border-box;\r\n  display: grid;\r\n  .background-container {\r\n    // height: calc(40vh - 10px);\r\n    box-sizing: border-box;\r\n    padding: 10px 20px 20px;\r\n  }\r\n  .left-items{\r\n    .bulk-deletion {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-top: 10px;\r\n      margin-left: 40px;\r\n      margin-bottom: 10px;\r\n      margin-right: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n    .add-maunally {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-top: 10px;\r\n      margin-right: 10px;\r\n      margin-bottom: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n    .bulk-upload {\r\n      border-radius: 4px;\r\n      vertical-align: middle;\r\n      text-align: center;\r\n      padding: 0px;\r\n      line-height: 22px;\r\n      margin-bottom: 10px;\r\n      margin-top: 10px;\r\n      height: 31px;\r\n      width: 136px;\r\n    }\r\n  }\r\n    .right-items{\r\n      float: right;\r\n      margin-top:10px;\r\n      margin-right:70px;\r\n    .search {\r\n      border-radius: 4px;\r\n      height: 41px;\r\n      width: 400px;\r\n    }\r\n  }\r\n  .pagination {\r\n    margin-right: 100px;\r\n  }\r\n  .stu-table{\r\n    box-sizing: border-box;\r\n    margin-top:55px;\r\n    padding:15px;\r\n  .reset {\r\n    border-radius: 4px;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    padding: 0px;\r\n    line-height: 22px;\r\n    margin: 0px;\r\n    margin-top: 5px;\r\n    height: 31px;\r\n    width: 138px;\r\n    margin-right: 20px;\r\n  }\r\n  .delete {\r\n    border-radius: 4px;\r\n    vertical-align: middle;\r\n    text-align: center;\r\n    padding: 0px;\r\n    line-height: 22px;\r\n    margin: 0px;\r\n    margin-top: 5px;\r\n    height: 31px;\r\n    width: 73px;\r\n  }\r\n  }\r\n}\r\n</style>\r\n"]}]}