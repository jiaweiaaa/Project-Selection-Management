{"remainingRequest":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\project2\\project-allocation-web\\src\\views\\announcement\\list\\index.vue?vue&type=style&index=0&id=c90c6f82&lang=scss&scoped=true&","dependencies":[{"path":"E:\\project2\\project-allocation-web\\src\\views\\announcement\\list\\index.vue","mtime":1623142371018},{"path":"E:\\project2\\project-allocation-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\project2\\project-allocation-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmFubm91bmNlbWVudC1saXN0LWNvbnRhaW5lciB7DQogICAgcGFkZGluZzogNDBweDsNCiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA3MHB4KTsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIC5iYWNrZ3JvdW5kLWNvbnRhaW5lciB7DQogICAgICAgIHBhZGRpbmc6IDMwcHggMjBweCAyMHB4Ow0KICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KICAgIH0NCiAgICAuYW5ub3VuY2VtZW50LXdyYXBwZXIgew0KICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOw0KICAgICAgICBoZWlnaHQ6IGNhbGMoMzMlIC0gNTFweCk7DQogICAgICAgIGJveC1zaGFkb3c6IDFweCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgLjE1KTsNCiAgICAgICAgcGFkZGluZzogMjBweDsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAmOm5vdCg6bGFzdC1jaGlsZCkgew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsNCiAgICAgICAgfQ0KICAgICAgICAudGl0bGUgew0KICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7DQogICAgICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsNCiAgICAgICAgICAgIHdpZHRoOiA2MDBweDsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KICAgICAgICAudGltZSB7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICBjb2xvcjogI0JGQ0JEOTsNCiAgICAgICAgICAgIHRvcDogMjBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICB9DQogICAgICAgIC5hdXRob3Igew0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgY29sb3I6ICM5RjlGOUY7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgICAgICB9DQogICAgICAgIC5jb250ZW50IHsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICAgICAgICAgIHdvcmQtYnJlYWs6IGJyZWFrLWFsbDsNCiAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBicmVhay1zcGFjZXM7DQogICAgICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDsNCiAgICAgICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7DQogICAgICAgICAgICAtd2Via2l0LWxpbmUtY2xhbXA6IDU7DQogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNTsNCiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IC0xOHB4Ow0KICAgICAgICB9DQogICAgICAgIC5kZWxldGUtYW5ub3VuY2VtZW50IHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgICAgICAgIGJvdHRvbTogMjBweDsNCiAgICAgICAgICAgIHJpZ2h0OiAyMHB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxOHB4Ow0KICAgICAgICAgICAgY29sb3I6ICNBN0FBQUU7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgIH0NCiAgICB9DQogICAgLmJhY2tncm91bmQtY29udGFpbmVyIHsNCiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0Y3RjdGNzsNCiAgICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgICBib3gtc2hhZG93OiAxcHggM3B4IDZweCByZ2JhKDAsIDAsIDAsIC4xNSk7DQogICAgfQ0KICAgIC5hbm5vdW5jZW1lbnQtbGVmdCB7DQogICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7DQogICAgICAgIC5hdmF0YXItd3JhcHBlciB7DQogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHggIWltcG9ydGFudDsNCiAgICAgICAgICAgIGN1cnNvcjogaW5pdGlhbDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAuYW5ub3VuY2VtZW50LXJpZ2h0IHsNCiAgICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/announcement/list","sourcesContent":["<template>\r\n    <div class=\"announcement-list-container\">\r\n        <perfect-scrollbar class=\"background-container\" v-if=\"announcementList && announcementList.length > 0\">\r\n            <div class=\"announcement-wrapper\" v-for=\"announcement in announcementList\" :key=\"announcement.id\">\r\n                <div class=\"announcement-left\">\r\n                    <avatar :avatarUrl=\"announcement.author.avatar\" width=\"40\"></avatar>\r\n                </div>\r\n                <div class=\"announcement-right\">\r\n                    <div class=\"title\" @click=\"goEdit(announcement.id)\">{{announcement.title}}</div>\r\n                    <div class=\"time\">{{announcement.time | formatTime}}</div>\r\n                    <div class=\"author\" v-if=\"announcement.author\">{{announcement.author.name}}</div>\r\n                    <div class=\"content\" @click=\"goEdit(announcement.id)\" v-html=\"replaceImage(announcement.content)\"></div>\r\n                    <i class=\"el-icon-delete delete-announcement\" @click=\"deleteAnnouncement(announcement.id)\"></i>\r\n            </div>\r\n        </div>\r\n        </perfect-scrollbar>\r\n        <no-data v-else></no-data>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport announcementApi from '@/api/announcement'\r\nimport avatar from '@/components/avatar'\r\nimport common from '@/utils/common'\r\nimport CONSTANTS from '@/utils/constants'\r\nimport NoData from '@/components/NoData'\r\nexport default {\r\n    data() {\r\n        return {\r\n            announcementList: []\r\n        }\r\n    },\r\n    components: {\r\n        avatar,\r\n        NoData\r\n    },\r\n    created() {\r\n        this.getAnnouncementList()\r\n    },\r\n    methods: {\r\n        getAnnouncementList() {\r\n            announcementApi.getAnnouncementList().then((response) => {\r\n                this.announcementList = response.data.list\r\n            })\r\n        },\r\n        deleteAnnouncement(id) {\r\n            this.$confirm('Are you sure delete this announcement?', 'Confirm', {\r\n                confirmButtonText: 'Confirm',\r\n                cancelButtonText: 'Cancel'\r\n            }).then(() => {\r\n                announcementApi.deleteAnnouncement(id).then((response) => {\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: 'Delete Successfully'\r\n                    })\r\n                    this.getAnnouncementList()\r\n                })\r\n\r\n            })\r\n        },\r\n        replaceImage (content) {\r\n            content = content.replace(/<img.*?>/g, ' [image] ')\r\n            return content;\r\n        },\r\n        goEdit(id) {\r\n            this.$router.push('/announcement/edit/' + id)\r\n        },\r\n    },\r\n    filters: {\r\n        formatTime(time) {\r\n            let timeDetail = common.getDetailsFromTimestamp(time)\r\n            let month = CONSTANTS.MONTH_MAPPER[timeDetail.month]\r\n\r\n            return month + ' ' + timeDetail.day + ' , ' + timeDetail.year + ' at ' + timeDetail.hours + ':' + timeDetail.minutes\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.announcement-list-container {\r\n    padding: 40px;\r\n    height: calc(100vh - 70px);\r\n    box-sizing: border-box;\r\n    .background-container {\r\n        padding: 30px 20px 20px;\r\n        box-sizing: border-box;\r\n    }\r\n    .announcement-wrapper {\r\n        background-color: #ffffff;\r\n        height: calc(33% - 51px);\r\n        box-shadow: 1px 3px 6px rgba(0, 0, 0, .15);\r\n        padding: 20px;\r\n        position: relative;\r\n        display: flex;\r\n        overflow: hidden;\r\n        &:not(:last-child) {\r\n            margin-bottom: 20px;\r\n        }\r\n        .title {\r\n            font-size: 18px;\r\n            font-weight: bold;\r\n            margin-bottom: 10px;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            text-overflow: ellipsis;\r\n            width: 600px;\r\n            cursor: pointer;\r\n        }\r\n        .time {\r\n            position: absolute;\r\n            color: #BFCBD9;\r\n            top: 20px;\r\n            right: 20px;\r\n        }\r\n        .author {\r\n            font-size: 14px;\r\n            color: #9F9F9F;\r\n            margin-bottom: 10px;\r\n        }\r\n        .content {\r\n            font-size: 16px;\r\n            word-break: break-all;\r\n            white-space: break-spaces;\r\n            display: -webkit-box;\r\n            -webkit-box-orient: vertical;\r\n            -webkit-line-clamp: 5;\r\n            overflow: hidden;\r\n            line-height: 1.5;\r\n            cursor: pointer;\r\n            margin-top: -18px;\r\n        }\r\n        .delete-announcement {\r\n            position: absolute;\r\n            bottom: 20px;\r\n            right: 20px;\r\n            font-size: 18px;\r\n            color: #A7AAAE;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n    .background-container {\r\n        background-color: #F7F7F7;\r\n        height: 100%;\r\n        box-shadow: 1px 3px 6px rgba(0, 0, 0, .15);\r\n    }\r\n    .announcement-left {\r\n        vertical-align: top;\r\n        .avatar-wrapper {\r\n            margin-right: 20px !important;\r\n            cursor: initial;\r\n        }\r\n    }\r\n    .announcement-right {\r\n    }\r\n}\r\n</style>"]}]}